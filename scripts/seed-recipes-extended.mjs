import mysql from 'mysql2/promise';
import 'dotenv/config';

const conn = await mysql.createConnection(process.env.DATABASE_URL);

// 拡充されたレシピデータ
const recipes = [
  // バランス型（定番・和食中心）
  { name: '鶏の照り焼き', description: '甘辛い照り焼きソースが特徴の定番メニュー', calories: 320, protein: 28, fat: 12, carbs: 20, prepTime: 10, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '鶏もも肉', amount: '300', unit: 'g', category: '肉'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}, {name: '砂糖', amount: '1', unit: 'tbsp', category: '調味料'}, {name: 'みりん', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['鶏肉を一口大に切る', '熱したフライパンで鶏肉を焼く', '醤油・砂糖・みりんを混ぜたタレを加える', '照りが出るまで煮詰める']) },
  { name: '豚の生姜焼き', description: '生姜の香りが食欲をそそる定番料理', calories: 350, protein: 30, fat: 15, carbs: 18, prepTime: 10, cookTime: 12, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '豚肉', amount: '300', unit: 'g', category: '肉'}, {name: '生姜', amount: '1', unit: 'piece', category: '野菜'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}, {name: '砂糖', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['豚肉を薄切りにする', '生姜をすりおろす', 'フライパンで豚肉を焼く', '生姜と調味料を加えて炒める']) },
  { name: '鮭の塩焼き', description: 'シンプルで栄養価の高い定番メニュー', calories: 280, protein: 32, fat: 14, carbs: 2, prepTime: 5, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '鮭', amount: '300', unit: 'g', category: '魚'}, {name: '塩', amount: '0.5', unit: 'tsp', category: '調味料'}, {name: 'レモン', amount: '0.5', unit: 'piece', category: '野菜'}]), instructions: JSON.stringify(['鮭に塩を振る', 'グリルで焼く', 'レモンを絞る']) },
  { name: 'マイワシの蒲焼', description: '栄養満点の青魚を使った定番料理', calories: 310, protein: 28, fat: 16, carbs: 12, prepTime: 10, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: 'マイワシ', amount: '400', unit: 'g', category: '魚'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}, {name: '砂糖', amount: '1', unit: 'tbsp', category: '調味料'}, {name: 'みりん', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['イワシを開く', 'フライパンで焼く', 'タレを絡める']) },
  { name: '牛肉の肉じゃが', description: '日本の家庭料理の定番', calories: 380, protein: 25, fat: 18, carbs: 28, prepTime: 15, cookTime: 25, servings: 3, pattern: 'balanced', ingredients: JSON.stringify([{name: '牛肉', amount: '300', unit: 'g', category: '肉'}, {name: 'じゃがいも', amount: '300', unit: 'g', category: '野菜'}, {name: '玉ねぎ', amount: '150', unit: 'g', category: '野菜'}, {name: '醤油', amount: '3', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['野菜を切る', '牛肉を炒める', '野菜を加えて煮込む']) },
  { name: 'チキンカレー', description: 'スパイスの香りが食欲をそそるカレー', calories: 420, protein: 26, fat: 16, carbs: 42, prepTime: 15, cookTime: 20, servings: 3, pattern: 'balanced', ingredients: JSON.stringify([{name: '鶏肉', amount: '400', unit: 'g', category: '肉'}, {name: 'カレー粉', amount: '2', unit: 'tbsp', category: '調味料'}, {name: '玉ねぎ', amount: '200', unit: 'g', category: '野菜'}, {name: 'トマト缶', amount: '200', unit: 'ml', category: '野菜'}]), instructions: JSON.stringify(['野菜を切る', '鶏肉を炒める', 'カレー粉を加える', 'トマト缶を加えて煮込む']) },
  { name: 'クリームシチュー', description: 'コクのあるクリーム系の定番', calories: 380, protein: 22, fat: 20, carbs: 32, prepTime: 15, cookTime: 25, servings: 3, pattern: 'balanced', ingredients: JSON.stringify([{name: '鶏肉', amount: '300', unit: 'g', category: '肉'}, {name: 'じゃがいも', amount: '300', unit: 'g', category: '野菜'}, {name: '人参', amount: '150', unit: 'g', category: '野菜'}, {name: '生クリーム', amount: '200', unit: 'ml', category: '乳製品'}]), instructions: JSON.stringify(['野菜を切る', '鶏肉と野菜を炒める', 'スープを加えて煮込む', '生クリームを加える']) },
  { name: 'ハンバーグ', description: 'ジューシーな肉汁が美味しい定番', calories: 420, protein: 28, fat: 24, carbs: 20, prepTime: 20, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '合い挽き肉', amount: '300', unit: 'g', category: '肉'}, {name: 'パン粉', amount: '50', unit: 'g', category: '穀物'}, {name: '卵', amount: '1', unit: 'piece', category: '卵'}, {name: '玉ねぎ', amount: '100', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['玉ねぎをみじん切りにする', '肉と混ぜてこねる', 'フライパンで焼く', 'ソースをかける']) },
  { name: '唐揚げ', description: 'カリッと揚がった定番の揚げ物', calories: 380, protein: 30, fat: 20, carbs: 16, prepTime: 20, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '鶏肉', amount: '400', unit: 'g', category: '肉'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}, {name: '生姜', amount: '1', unit: 'tbsp', category: '野菜'}, {name: '片栗粉', amount: '100', unit: 'g', category: '穀物'}]), instructions: JSON.stringify(['鶏肉を漬ける', '片栗粉をまぶす', '揚げる']) },
  { name: 'トンカツ', description: 'サクサクの衣が特徴の定番揚げ物', calories: 420, protein: 28, fat: 22, carbs: 24, prepTime: 15, cookTime: 15, servings: 2, pattern: 'balanced', ingredients: JSON.stringify([{name: '豚肉', amount: '300', unit: 'g', category: '肉'}, {name: 'パン粉', amount: '100', unit: 'g', category: '穀物'}, {name: '卵', amount: '1', unit: 'piece', category: '卵'}, {name: 'ソース', amount: '3', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['豚肉を叩く', '卵とパン粉をまぶす', '揚げる', 'ソースをかける']) },

  // 時短型
  { name: 'パスタ（ボロネーゼ）', description: '15分で完成する時短パスタ', calories: 480, protein: 24, fat: 14, carbs: 60, prepTime: 5, cookTime: 10, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: 'パスタ', amount: '200', unit: 'g', category: '穀物'}, {name: '合い挽き肉', amount: '200', unit: 'g', category: '肉'}, {name: 'トマト缶', amount: '200', unit: 'ml', category: '野菜'}, {name: 'ニンニク', amount: '1', unit: 'clove', category: '野菜'}]), instructions: JSON.stringify(['パスタを茹でる', '肉を炒める', 'トマト缶を加える', '混ぜる']) },
  { name: '焼きそば', description: 'フライパン一つで完成する時短メニュー', calories: 420, protein: 20, fat: 16, carbs: 52, prepTime: 5, cookTime: 8, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: '焼きそば麺', amount: '200', unit: 'g', category: '穀物'}, {name: 'キャベツ', amount: '200', unit: 'g', category: '野菜'}, {name: '豚肉', amount: '150', unit: 'g', category: '肉'}, {name: 'ソース', amount: '3', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['野菜と肉を炒める', '麺を加える', 'ソースで味付け']) },
  { name: 'チャーハン', description: 'ご飯があれば10分で完成', calories: 380, protein: 16, fat: 14, carbs: 50, prepTime: 5, cookTime: 5, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: 'ご飯', amount: '300', unit: 'g', category: '穀物'}, {name: '卵', amount: '2', unit: 'piece', category: '卵'}, {name: '野菜', amount: '150', unit: 'g', category: '野菜'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['卵を炒める', 'ご飯を加える', '野菜を加える', '醤油で味付け']) },
  { name: 'オムライス', description: 'ふわふわの卵が美味しい時短メニュー', calories: 420, protein: 18, fat: 16, carbs: 52, prepTime: 10, cookTime: 10, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: 'ご飯', amount: '300', unit: 'g', category: '穀物'}, {name: '卵', amount: '3', unit: 'piece', category: '卵'}, {name: 'ケチャップ', amount: '3', unit: 'tbsp', category: '調味料'}, {name: '玉ねぎ', amount: '100', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['ご飯をケチャップで炒める', '卵を焼く', 'ご飯を卵で包む']) },
  { name: 'うどん（肉うどん）', description: '冷凍うどんで5分調理', calories: 380, protein: 18, fat: 8, carbs: 62, prepTime: 2, cookTime: 3, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: '冷凍うどん', amount: '2', unit: 'pack', category: '穀物'}, {name: '牛肉', amount: '150', unit: 'g', category: '肉'}, {name: 'だし汁', amount: '600', unit: 'ml', category: '調味料'}, {name: '醤油', amount: '2', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['だし汁を温める', '牛肉を加える', 'うどんを加える', '醤油で味付け']) },
  { name: 'ピザトースト', description: 'トースターで10分の時短メニュー', calories: 320, protein: 14, fat: 12, carbs: 40, prepTime: 5, cookTime: 5, servings: 2, pattern: 'quick', ingredients: JSON.stringify([{name: '食パン', amount: '2', unit: 'slice', category: '穀物'}, {name: 'チーズ', amount: '100', unit: 'g', category: '乳製品'}, {name: 'トマト', amount: '100', unit: 'g', category: '野菜'}, {name: 'ハム', amount: '50', unit: 'g', category: '肉'}]), instructions: JSON.stringify(['パンにトマトを乗せる', 'ハムとチーズを乗せる', 'トースターで焼く']) },
  { name: 'グラタン', description: 'オーブンにお任せの時短メニュー', calories: 380, protein: 20, fat: 18, carbs: 36, prepTime: 15, cookTime: 15, servings: 3, pattern: 'quick', ingredients: JSON.stringify([{name: 'マカロニ', amount: '200', unit: 'g', category: '穀物'}, {name: 'ホワイトソース', amount: '200', unit: 'ml', category: '調味料'}, {name: 'チーズ', amount: '100', unit: 'g', category: '乳製品'}, {name: 'ハム', amount: '100', unit: 'g', category: '肉'}]), instructions: JSON.stringify(['マカロニを茹でる', 'ホワイトソースと混ぜる', 'チーズを乗せて焼く']) },

  // 健康志向型
  { name: 'サラダチキン丼', description: '低カロリー・高タンパクな健康食', calories: 280, protein: 38, fat: 6, carbs: 28, prepTime: 10, cookTime: 0, servings: 1, pattern: 'healthy', ingredients: JSON.stringify([{name: 'サラダチキン', amount: '150', unit: 'g', category: '肉'}, {name: 'ご飯', amount: '150', unit: 'g', category: '穀物'}, {name: 'レタス', amount: '50', unit: 'g', category: '野菜'}, {name: 'トマト', amount: '50', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['ご飯を盛る', 'サラダチキンを乗せる', '野菜を添える']) },
  { name: 'グリーンスムージー', description: '栄養満点の朝食', calories: 150, protein: 6, fat: 2, carbs: 28, prepTime: 5, cookTime: 0, servings: 1, pattern: 'healthy', ingredients: JSON.stringify([{name: 'ほうれん草', amount: '100', unit: 'g', category: '野菜'}, {name: 'バナナ', amount: '1', unit: 'piece', category: '果物'}, {name: 'ヨーグルト', amount: '100', unit: 'ml', category: '乳製品'}, {name: 'はちみつ', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['材料をミキサーに入れる', 'ブレンドする', 'グラスに注ぐ']) },
  { name: '豆腐ステーキ', description: '低カロリー・高タンパクな健康食', calories: 220, protein: 20, fat: 10, carbs: 12, prepTime: 10, cookTime: 10, servings: 2, pattern: 'healthy', ingredients: JSON.stringify([{name: '豆腐', amount: '400', unit: 'g', category: '豆製品'}, {name: 'ポン酢', amount: '3', unit: 'tbsp', category: '調味料'}, {name: 'ネギ', amount: '50', unit: 'g', category: '野菜'}, {name: 'しょうが', amount: '1', unit: 'tbsp', category: '野菜'}]), instructions: JSON.stringify(['豆腐を厚切りにする', 'フライパンで焼く', 'ポン酢をかける']) },
  { name: '鶏むね肉の蒸し焼き', description: '高タンパク・低脂肪の健康食', calories: 240, protein: 35, fat: 8, carbs: 8, prepTime: 10, cookTime: 15, servings: 2, pattern: 'healthy', ingredients: JSON.stringify([{name: '鶏むね肉', amount: '400', unit: 'g', category: '肉'}, {name: 'キャベツ', amount: '200', unit: 'g', category: '野菜'}, {name: 'ポン酢', amount: '3', unit: 'tbsp', category: '調味料'}, {name: 'しょうが', amount: '1', unit: 'tbsp', category: '野菜'}]), instructions: JSON.stringify(['鶏肉を切る', 'キャベツを敷く', '鶏肉を乗せて蒸す', 'ポン酢をかける']) },
  { name: '野菜スープ', description: '野菜たっぷりの健康スープ', calories: 120, protein: 8, fat: 3, carbs: 18, prepTime: 15, cookTime: 20, servings: 3, pattern: 'healthy', ingredients: JSON.stringify([{name: 'キャベツ', amount: '200', unit: 'g', category: '野菜'}, {name: '人参', amount: '100', unit: 'g', category: '野菜'}, {name: '玉ねぎ', amount: '100', unit: 'g', category: '野菜'}, {name: 'コンソメ', amount: '1', unit: 'cube', category: '調味料'}]), instructions: JSON.stringify(['野菜を切る', 'スープを煮込む', 'コンソメで味付け']) },
  { name: 'グリルチキン', description: 'ヘルシーな焼き鶏', calories: 260, protein: 36, fat: 10, carbs: 4, prepTime: 10, cookTime: 20, servings: 2, pattern: 'healthy', ingredients: JSON.stringify([{name: '鶏肉', amount: '400', unit: 'g', category: '肉'}, {name: 'レモン', amount: '1', unit: 'piece', category: '果物'}, {name: 'ハーブ', amount: '1', unit: 'tbsp', category: '調味料'}, {name: 'オリーブオイル', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['鶏肉にハーブを振る', 'グリルで焼く', 'レモンを絞る']) },

  // 子ども向け
  { name: 'オムライス（子ども向け）', description: 'ふわふわの卵が大好きな子ども向け', calories: 380, protein: 16, fat: 14, carbs: 48, prepTime: 15, cookTime: 10, servings: 2, pattern: 'kids', ingredients: JSON.stringify([{name: 'ご飯', amount: '300', unit: 'g', category: '穀物'}, {name: '卵', amount: '3', unit: 'piece', category: '卵'}, {name: 'ケチャップ', amount: '4', unit: 'tbsp', category: '調味料'}, {name: 'コーン', amount: '100', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['ご飯をケチャップで炒める', '卵を焼く', 'ご飯を卵で包む', 'ケチャップをかける']) },
  { name: 'ナゲット', description: 'カリッと揚がったチキンナゲット', calories: 320, protein: 24, fat: 16, carbs: 20, prepTime: 15, cookTime: 12, servings: 2, pattern: 'kids', ingredients: JSON.stringify([{name: '鶏むね肉', amount: '300', unit: 'g', category: '肉'}, {name: 'パン粉', amount: '100', unit: 'g', category: '穀物'}, {name: '卵', amount: '1', unit: 'piece', category: '卵'}, {name: 'ケチャップ', amount: '3', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['鶏肉を切る', '卵とパン粉をまぶす', '揚げる', 'ケチャップをつける']) },
  { name: 'スパゲッティ（ミートソース）', description: 'お子さんが大好きなミートソース', calories: 420, protein: 20, fat: 12, carbs: 58, prepTime: 10, cookTime: 15, servings: 2, pattern: 'kids', ingredients: JSON.stringify([{name: 'スパゲッティ', amount: '200', unit: 'g', category: '穀物'}, {name: '合い挽き肉', amount: '200', unit: 'g', category: '肉'}, {name: 'トマト缶', amount: '200', unit: 'ml', category: '野菜'}, {name: 'ケチャップ', amount: '2', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['パスタを茹でる', '肉を炒める', 'トマト缶を加える', 'ケチャップで味付け']) },
  { name: 'ポテトサラダ', description: 'マイルドで食べやすいサラダ', calories: 280, protein: 8, fat: 16, carbs: 28, prepTime: 15, cookTime: 10, servings: 3, pattern: 'kids', ingredients: JSON.stringify([{name: 'じゃがいも', amount: '300', unit: 'g', category: '野菜'}, {name: 'ハム', amount: '100', unit: 'g', category: '肉'}, {name: 'マヨネーズ', amount: '3', unit: 'tbsp', category: '調味料'}, {name: 'コーン', amount: '100', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['じゃがいもを茹でる', 'つぶす', 'ハムとコーンを混ぜる', 'マヨネーズで和える']) },
  { name: 'カレーライス', description: 'お子さんが大好きなカレー', calories: 420, protein: 22, fat: 14, carbs: 54, prepTime: 15, cookTime: 20, servings: 3, pattern: 'kids', ingredients: JSON.stringify([{name: '鶏肉', amount: '300', unit: 'g', category: '肉'}, {name: 'じゃがいも', amount: '200', unit: 'g', category: '野菜'}, {name: '人参', amount: '100', unit: 'g', category: '野菜'}, {name: 'カレールー', amount: '100', unit: 'g', category: '調味料'}]), instructions: JSON.stringify(['野菜を切る', '肉と野菜を炒める', 'スープを加える', 'カレールーを加えて煮込む']) },
  { name: 'ホットドッグ', description: 'パーティーにも最適な子ども向けメニュー', calories: 320, protein: 14, fat: 16, carbs: 32, prepTime: 5, cookTime: 5, servings: 2, pattern: 'kids', ingredients: JSON.stringify([{name: 'ホットドッグ用パン', amount: '2', unit: 'piece', category: '穀物'}, {name: 'ソーセージ', amount: '2', unit: 'piece', category: '肉'}, {name: 'ケチャップ', amount: '2', unit: 'tbsp', category: '調味料'}, {name: 'マスタード', amount: '1', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['ソーセージを温める', 'パンに入れる', 'ケチャップとマスタードをかける']) },

  // 高齢者向け
  { name: '卵雑炊', description: '消化しやすい優しい食事', calories: 180, protein: 12, fat: 4, carbs: 24, prepTime: 10, cookTime: 10, servings: 2, pattern: 'elderly', ingredients: JSON.stringify([{name: 'ご飯', amount: '150', unit: 'g', category: '穀物'}, {name: '卵', amount: '2', unit: 'piece', category: '卵'}, {name: 'だし汁', amount: '300', unit: 'ml', category: '調味料'}, {name: 'ネギ', amount: '30', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['だし汁を温める', 'ご飯を加える', '卵を落とす', 'ネギを散らす']) },
  { name: '豆腐と野菜の煮込み', description: '柔らかく栄養満点', calories: 160, protein: 14, fat: 6, carbs: 12, prepTime: 10, cookTime: 15, servings: 3, pattern: 'elderly', ingredients: JSON.stringify([{name: '豆腐', amount: '300', unit: 'g', category: '豆製品'}, {name: '大根', amount: '200', unit: 'g', category: '野菜'}, {name: 'にんじん', amount: '100', unit: 'g', category: '野菜'}, {name: 'だし汁', amount: '300', unit: 'ml', category: '調味料'}]), instructions: JSON.stringify(['野菜を切る', 'だし汁で煮込む', '豆腐を加える', '醤油で味付け']) },
  { name: 'うどん（あんかけ）', description: 'つるつると食べやすいうどん', calories: 280, protein: 10, fat: 4, carbs: 52, prepTime: 5, cookTime: 10, servings: 2, pattern: 'elderly', ingredients: JSON.stringify([{name: 'うどん', amount: '200', unit: 'g', category: '穀物'}, {name: 'だし汁', amount: '400', unit: 'ml', category: '調味料'}, {name: '片栗粉', amount: '1', unit: 'tbsp', category: '穀物'}, {name: 'ネギ', amount: '30', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['うどんを茹でる', 'だし汁を温める', '片栗粉でとろみをつける', 'うどんにかける']) },
  { name: '白身魚の蒸し焼き', description: 'やさしい味わいの白身魚', calories: 200, protein: 28, fat: 6, carbs: 4, prepTime: 10, cookTime: 15, servings: 2, pattern: 'elderly', ingredients: JSON.stringify([{name: 'タイ', amount: '300', unit: 'g', category: '魚'}, {name: 'しょうが', amount: '1', unit: 'tbsp', category: '野菜'}, {name: 'ポン酢', amount: '2', unit: 'tbsp', category: '調味料'}, {name: 'ネギ', amount: '30', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['魚をホイルで包む', 'しょうがを乗せる', '蒸す', 'ポン酢をかける']) },
  { name: 'おかゆ', description: '消化に優しい基本食', calories: 140, protein: 4, fat: 2, carbs: 28, prepTime: 5, cookTime: 30, servings: 2, pattern: 'elderly', ingredients: JSON.stringify([{name: 'ご飯', amount: '100', unit: 'g', category: '穀物'}, {name: 'だし汁', amount: '600', unit: 'ml', category: '調味料'}, {name: '塩', amount: '0.5', unit: 'tsp', category: '調味料'}, {name: 'ネギ', amount: '20', unit: 'g', category: '野菜'}]), instructions: JSON.stringify(['ご飯とだし汁を混ぜる', '弱火で煮込む', '塩で味付け', 'ネギを散らす']) },
  { name: 'ほうれん草のおひたし', description: 'さっぱりとした副菜', calories: 80, protein: 4, fat: 2, carbs: 12, prepTime: 5, cookTime: 5, servings: 2, pattern: 'elderly', ingredients: JSON.stringify([{name: 'ほうれん草', amount: '200', unit: 'g', category: '野菜'}, {name: 'かつお節', amount: '5', unit: 'g', category: '調味料'}, {name: 'ポン酢', amount: '2', unit: 'tbsp', category: '調味料'}]), instructions: JSON.stringify(['ほうれん草を茹でる', '冷やす', '絞る', 'ポン酢をかけてかつお節を散らす']) },
];

try {
  console.log('Inserting extended recipes...');
  
  for (const recipe of recipes) {
    const [result] = await conn.execute(
      'INSERT INTO recipes (name, description, calories, protein, fat, carbs, prepTimeMinutes, cookTimeMinutes, servings, pattern, ingredients, instructions) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)',
      [recipe.name, recipe.description, recipe.calories, recipe.protein, recipe.fat, recipe.carbs, recipe.prepTime, recipe.cookTime, recipe.servings, recipe.pattern, recipe.ingredients, recipe.instructions]
    );
    console.log(`✓ Inserted: ${recipe.name}`);
  }
  
  console.log(`\n✓ Successfully inserted ${recipes.length} recipes`);
} catch (error) {
  console.error('Error inserting recipes:', error);
} finally {
  await conn.end();
}
